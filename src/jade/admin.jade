include mixins

doctype html
html(ng-app='escapeApp')
	head
		meta(charset='UTF-8')
		meta(name='description', content='A game of escape')
		meta(name='author', content='Moritz Company')
		meta(name='viewport', content='width=device-width, initial-scale=1.0')
		title The Game Escape
		link(rel='shortcut icon', href='favicon.ico')
		link(rel='stylesheet', href='inc/admin.css')
		script(src='inc/angular.js')
	body.admin(ng-cloak, ng-controller='AdminCtrl')
		.container
			header
				h1 The Game Escape - Admin
			.jumbotron.collapse.in.chooseTeamSection
				.pos-rel
					i.fa.fa-close.top-corner.pointer(data-target=".chooseTeamSection" data-toggle="collapse")
				.row.clear-fix
					.col-xs-6
						select.form-control(ng-model='teamId' ng-options='team.$id as team.name for team in getUnfinishedTeams()')
							option(value='' disabled selected) -- choose team --
						button.btn.btn-success(ng-click='chooseTeam(teamId)' ng-disabled='formFields.newTeamName' data-target=".chooseTeamSection" data-toggle="collapse") Choose Team
					.col-xs-6
						form(ng-submit='createTeam()')
							input.form-control(type='text' ng-model='formFields.newTeamName')
							button.btn.btn-success(type='submit' ng-disabled='!formFields.newTeamName' value='Create Team' data-target=".chooseTeamSection" data-toggle="collapse") Create Team
			form(ng-if='activeTeam' ng-submit='addNewMessage()')
				input.form-control.addMessageInput(type='text' ng-model='formFields.newMessage' placeholder='Send a Message to {{activeTeam.name}}')
				input.form-control(type='submit' ng-disabled='!formFields.newMessage' value='Add Message')
			.row
				.col-sm-6
					h3 Team:
					h3 {{activeTeam.name}}
				.col-sm-6.controls
					h3 Controls:
					button.btn.btn-primary.collapse.chooseTeamSection(data-target=".chooseTeamSection" data-toggle="collapse") {{activeTeam ? "Change Teams" : "Choose Team"}}
					button.btn.btn-primary(ng-click='restartTimer()' ng-show='activeTeam') Restart Timer
			iframe(src="session.html" width="100%" style="min-height:400px")
		| @@javascriptReplaceFiles
